import{P as f,S,F as b,W as _,a as x,b as C,c as M,E as v,M as y,d as m,B as P,G as T,T as z,R as h,e as L,f as F,_ as G}from"./three.module.787f171a.js";import{O as A}from"./OrbitControls.7604efa9.js";import{d as B,o as D,e as I,f as l}from"./index.4f91fb62.js";function R(e,n){const t=new f(75,e/n,.01,50);return t.position.z=-10,t.position.y=8,t.rotation.x=-Math.PI/6,t}function W(e,n){const t=new A(e,n);return t.minDistance=8,t.maxDistance=20,t.maxPolarAngle=Math.PI/2.1,t.enablePan=!1,t.enableDamping=!0,t}function k(){const e=new S,n=new b(0,1,40);return e.fog=n,e}function E(e,n){const t=new _({antialias:!0});return t.setSize(e,n),t.shadowMap.enabled=!0,t.shadowMap.type=x,t}function O(e){const n=new C(e,2);return n.penumbra=1,n.angle=.8,n.castShadow=!0,n.shadow.mapSize.height=2048,n.shadow.mapSize.width=2048,n}function j(){const e=[16746632,8978312,8947967].map(O);return e[0].position.set(0,10,5),e[1].position.set(-5,10,-5),e[2].position.set(5,10,-5),e}function H(){const e=new M;e.moveTo(25,25),e.bezierCurveTo(25,25,20,0,0,0),e.bezierCurveTo(-30,0,-30,35,-30,35),e.bezierCurveTo(-30,55,-10,77,25,95),e.bezierCurveTo(60,77,80,55,80,35),e.bezierCurveTo(80,35,80,0,50,0),e.bezierCurveTo(35,0,25,25,25,25);const n={curveSegments:128,depth:16,bevelSegments:32,bevelThickness:16},t=new v(e,n),o=new y({color:2236962,shininess:128}),a=new m(t,o);a.scale.set(.02,.02,.02),a.rotation.x=Math.PI,a.position.y=-3,new P().setFromObject(a).getCenter(a.position),a.position.multiplyScalar(-1);const s=new T;return s.add(a),a.castShadow=!0,s}async function q(){const e=await new z().loadAsync("/items/heart/floor.jpg");e.repeat.set(5,5),e.wrapT=h,e.wrapS=h;const n=new L(50,50),t=new F({map:e,roughness:.3,clearcoat:1}),o=new m(n,t);return o.position.set(0,0,0),o.rotation.x=-Math.PI/2,o.receiveShadow=!0,o}let r;async function J(e){const[n,t]=[window.innerWidth,window.innerHeight];r=E(n,t);const o=r.domElement,a=R(n,t),p=W(a,o),s=k(),d=j(),i=H();s.add(...d,i,await q());function w(g){p.update();const u=g/1e3,c=1+(1+Math.sin(u))/10;i.scale.set(c,c,c),i.rotation.y=u,r.render(s,a)}r.setAnimationLoop(w),e.appendChild(o)}function K(){r.setAnimationLoop(null)}const V=B({__name:"index",setup(e){return(n,t)=>{const o=G;return D(),I(o,{start:l(J),stop:l(K)},null,8,["start","stop"])}}});export{V as default};
